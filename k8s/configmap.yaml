apiVersion: v1
kind: ConfigMap
metadata:
  name: jobqueue-config
  namespace: jobqueue
  labels:
    app.kubernetes.io/name: jobqueue
data:
  # Database
  DATABASE_URL: "postgresql+asyncpg://postgres:postgres@postgres-service:5432/jobqueue"
  DATABASE_SYNC_URL: "postgresql://postgres:postgres@postgres-service:5432/jobqueue"
  
  # API Configuration
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  API_ALGORITHM: "HS256"
  API_ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  
  # Worker Configuration
  WORKER_LEASE_DURATION_SECONDS: "30"
  WORKER_POLL_INTERVAL_SECONDS: "1"
  WORKER_BATCH_SIZE: "5"
  WORKER_HEARTBEAT_INTERVAL_SECONDS: "10"
  
  # Reaper Configuration
  REAPER_INTERVAL_SECONDS: "10"
  
  # Rate Limiting
  RATE_LIMIT_REQUESTS_PER_MINUTE: "100"
  
  # Tenant Defaults
  DEFAULT_TENANT_MAX_CONCURRENT_JOBS: "10"
  DEFAULT_MAX_ATTEMPTS: "3"
  
  # Observability
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://jaeger:4317"
  OTEL_SERVICE_NAME: "job-scheduler"
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
